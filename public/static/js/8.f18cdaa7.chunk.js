(this.webpackJsonpcloudEmperor=this.webpackJsonpcloudEmperor||[]).push([[8],{572:function(t,e,n){t.exports=n(580)},573:function(t,e){t.exports={BASE_API:"http://192.168.1.117:3000",ENTERPRISE:"xxx",PLATFORM:"xxx",projectName:"development"}},579:function(t,e,n){"use strict";var o=n(572),r={base:n.n(o).a.BASE_API,login:{login:function(){return"/admin/admin_login"},register:function(){return"/admin/user_register"}},new:{details:function(){return"/news/get"}}};e.a=r},580:function(t,e){t.exports={BASE_API:"http://192.168.1.117:3000",ENTERPRISE:"xxx",PLATFORM:"xxx",projectName:"production"}},581:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return p})),n.d(e,"a",(function(){return d}));n(585);var o=n(586),r=n.n(o),a=n(593),c=n.n(a),i=n(572),s=function(t){r.a.error(t)},u=function(){console.log("\u5230\u767b\u5f55\u9875")};c.a.create({timeout:5e3}),c.a.defaults.baseURL=i.BASE_API,c.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",c.a.interceptors.request.use((function(t){var e=localStorage.getItem("x_token");return e&&(t.headers["X-Token"]=e),t}),(function(t){return Promise.error(t)})),c.a.interceptors.response.use((function(t){return 200===t.status?Promise.resolve(t):Promise.reject(t)}),(function(t){var e=t.response;if(e)return function(t,e){switch(t){case 401:u();break;case 403:s("\u767b\u5f55\u8fc7\u671f\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55"),localStorage.removeItem("x_token"),setTimeout((function(){u()}),1e3);break;case 404:s("\u8bf7\u6c42\u7684\u8d44\u6e90\u4e0d\u5b58\u5728");break;case 500:s("\u670d\u52a1\u5668\u5f02\u5e38");break;default:console.log(e)}}(e.status,e.data.message),Promise.reject(e)}));var l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,o){c.a.get(t,{params:e}).then((function(t){n(t.data)})).catch((function(t){o(t)}))}))},p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,o){c.a.post(t,e).then((function(t){n(t.data)}),(function(t){o(t)}))}))},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,o){c.a.delete(t,{params:e}).then((function(t){n(t.data)})).catch((function(t){o(t)}))}))}},784:function(t,e,n){},786:function(t,e,n){},898:function(t,e,n){"use strict";n.r(e);n(606);var o=n(631),r=n.n(o),a=(n(253),n(575)),c=n.n(a),i=n(41),s=n(42),u=n(43),l=n(44),p=(n(607),n(616)),d=n.n(p),m=n(0),f=n.n(m),h=n(62),g=n(49),b=(n(784),n(579)),C=n(581),v=n(785),E=n.n(v),x=n(572),_=n.n(x),k=(n(786),"".concat(_.a.BASE_API,"/news/upload")),y=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(t){var o;return Object(i.a)(this,n),(o=e.call(this,t)).initEditor=function(){o.editor=new E.a(".".concat(o.props.toolbarCls),".".concat(o.props.contentCls)),o.editor.customConfig.zIndex=10,o.editor.customConfig.onfocus=function(){var t=document.querySelector(".".concat(o.props.contentCls));t.style.minHeight="300px",t.style.height="auto"},o.editor.customConfig.onblur=function(){document.querySelector(".".concat(o.props.contentCls)).style.height="300px"},o.editor.customConfig.menus=o.props.controls,o.editor.customConfig.onchange=function(t){o.props.onChange&&t!=="<p>".concat(o.props.placeholder,"</p>")&&("<p><br></p>"===t?o.props.onChange(""):o.props.onChange(t))},o.editor.customConfig.onchangeTimeout=300,o.editor.customConfig.uploadImgServer=k,o.editor.customConfig.uploadImgMaxLength=5,o.editor.customConfig.uploadFileName="files",o.editor.customConfig.uploadImgHooks={customInsert:function(t,e){t(e.data.files)}},o.editor.customConfig.pasteTextHandle=function(t){return~t.indexOf("\x3c!--[if gte mso 9]><xml>")||~t.indexOf("<spanyes")?"\u7c98\u8d34\u5185\u5bb9\u6709\u4e71\u7801\uff0c\u8bf7\u4f7f\u7528ctrl+shift+v\u6765\u7c98\u8d34\u5185\u5bb9(mac\u8bf7\u4f7f\u7528command+shift+v)":t},o.editor.create(),o.props.contentElement?(o.setHtml(o.props.contentElement),o.props.onChange&&o.props.onChange(o.props.contentElement)):o.setHtml("<p>".concat(o.props.placeholder,"</p>"))},o.getHtml=function(){return o.editor.txt.html()},o.getText=function(){return o.editor.txt.text()},o.setHtml=function(t){return o.editor.txt.html(t)},o.editor=null,o}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.initEditor(),setTimeout((function(){t.props.contentElement?(t.setHtml(t.props.contentElement),t.props.onChange&&t.props.onChange(t.props.contentElement)):t.setHtml("<p>".concat(t.props.placeholder,"</p>"))}),1e3)}},{key:"render",value:function(){var t=this.props.toolbarCls?"".concat(this.props.toolbarCls," cl_editor_toolbar"):"".concat("cl_editor_toolbar_default"," cl_editor_toolbar"),e=this.props.contentCls?"".concat(this.props.contentCls," cl_editor_content"):"".concat("cl_editor_content_default"," cl_editor_content");return f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:t}),f.a.createElement("div",{className:e}))}}]),n}(m.Component);y.defaultProps={controls:["head","bold","fontSize","fontName","italic","underline","strikeThrough","foreColor","backColor","link","list","justify","quote","emoticon","image","table","code","undo","redo"],placeholder:"\u5185\u5bb9\u7f16\u8f91\u533a\u57df",toolbarCls:"cl_editor_toolbar_default",contentCls:"cl_editor_content_default"};var I=y,P=function(t,e,n){d.a[t]({message:n||t,description:e})},j=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(t){var o;return Object(i.a)(this,n),(o=e.call(this,t)).buttonClick=function(){o.props.setButton(o.props.buttonInfo.button)},o.login=function(){Object(C.c)(b.a.login.login(),{username:"root",password:"123"}).then((function(t){console.log(t),1===t.status?(P("success",t.message),o.setSate={roles:t.data.roles}):P("error",t.message)}))},o.editorChange=function(t){console.log("value",t)},o.state={roles:[],content:"\u9ed8\u8ba4\u8d4b\u503c"},o}return Object(s.a)(n,[{key:"render",value:function(){return f.a.createElement("div",{className:"page demo"},f.a.createElement("div",{className:"demo_head"}),f.a.createElement("div",{className:"demo_body"},f.a.createElement("h3",null,"redux\u4f7f\u7528\u65b9\u6cd5"),f.a.createElement(c.a,{type:"danger",onClick:this.buttonClick},"\u6309\u94ae"),f.a.createElement(r.a,{value:this.props.buttonInfo.button}),f.a.createElement("h3",null,"\u63a5\u53e3\u8bf7\u6c42\u65b9\u5f0f"),f.a.createElement(c.a,{type:"primary",onClick:this.login},"\u767b\u5f55\u8c03\u63a5\u53e3"),f.a.createElement("h3",null,"\u5bcc\u6587\u672c"),f.a.createElement(I,{onChange:this.editorChange,contentElement:this.state.content?this.state.content:"",placeholder:"\u8bf7\u5728\u8fd9\u91cc\u8f93\u5165\u6587\u7ae0\u6b63\u6587\uff0c\u5305\u62ec\u6587\u5b57\u3001\u56fe\u7247\u3001\u89c6\u9891\u7b49"})))}}]),n}(f.a.Component);e.default=Object(h.b)((function(t){return{buttonInfo:t}}),(function(t){return{setButton:function(e){return t((n=e,{type:g.b,payload:{scope:n}}));var n}}}))(j)}}]);
//# sourceMappingURL=8.f18cdaa7.chunk.js.map